@page "/investimentos-disponiveis"
@using PRIORI_SERVICES_WEB.Data.Model;
@using PRIORI_SERVICES_WEB.Data.API;

<style>
    html, body {
        background-image: linear-gradient(75deg, rgb(211, 35, 218), rgb(114, 0, 167));
    }
</style>

<NavMenu nav_classes="sticky-top" />

<div class="my-5 row row-cols-3 container-fluid text-center">
        @foreach (Investimento investimento in invDisponiveis)
        {
            <div class="card p-2 m-1 bg-white text-dark">
                <div class="card-header">
                    <h2>@investimento.nome</h2>
                </div>
                <div class="card-body">
                    
                    <ul class="list-group" style="list-style-type: none;">
                        <li class="list-group-item">Investimento Minimo: R$ @investimento.valor_minimo</li>
                        <li class="list-group-item">Vencimento: @investimento.vencimento</li>
                        <li class="list-group-item">Rentabilidade anual: @investimento.rentabilidade_variavel</li>
                        <li class="list-group-item">Simule: XXX</li>
                    </ul>
                </div>
            </div>
        }
</div>

<Footer></Footer>


@code {
    public Investimento[] invDisponiveis = new Investimento[0];

    protected override async Task OnInitializedAsync()
    {
        invDisponiveis = await APIHandler.FetchOrFallbackAsync<Investimento[]>("api/investimento", new Investimento[] {
           new Investimento {
            nome = "Falha ao encontrar investimentos."
           } 
        });
    }
}